"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[705],{8705:function(e,t,n){n.r(t),n.d(t,{default:function(){return m}});var i=n(3433),c=n(9439),r=n(1087),o=n(7689),a=n(2791),s=n(3048),l=n(7425),u=n(7860),d=n(184),f=function(e){var t=e.backLinkHref;return(0,d.jsxs)("div",{className:"flex flex-col items-center py-2",children:[(0,d.jsx)("h2",{children:"Additional Information"}),(0,d.jsxs)("ul",{className:"flex gap-[30vw]",children:[(0,d.jsx)("li",{children:(0,d.jsxs)(r.OL,{className:"info-link transition ease-in-out duration-500 inline-flex items-center font-semibold text-lg p-1",to:"cast",state:t,children:[(0,d.jsx)(l.jfD,{className:"info-link-icon duration-500 inline"}),"Cast"]})}),(0,d.jsx)("li",{children:(0,d.jsxs)(r.OL,{className:"info-link transition ease-in-out duration-500 font-semibold text-lg p-1",to:"reviews",state:t,children:[(0,d.jsx)(l.jfD,{className:"info-link-icon duration-500 inline"}),"Reviews"]})})]}),(0,d.jsx)(a.Suspense,{fallback:u._,children:(0,d.jsx)(o.j3,{})})]})},h=n(3853),x=n(9843),m=function(){var e,t=(0,o.UO)().movieId,n=(0,a.useState)([]),l=(0,c.Z)(n,2),u=l[0],m=l[1],g=(0,x.Z)("queue",[]),p=(0,c.Z)(g,2),v=p[0],j=p[1],b=(0,x.Z)("liked",[]),w=(0,c.Z)(b,2),y=w[0],k=w[1],N=(0,a.useState)(!1),Z=(0,c.Z)(N,2),_=Z[0],S=Z[1],L=(0,a.useState)(!1),O=(0,c.Z)(L,2),C=O[0],Q=O[1],D=null!==(e=(0,o.TH)().state)&&void 0!==e?e:"/";(0,a.useEffect)((function(){(0,s.FL)(t).then(m),S(v.some((function(e){return e.id===Number(t)}))),Q(y.some((function(e){return e.id===Number(t)})))}),[t,v,y]);var I=function(e){var t=e.target.name,n="toQueue"===t?v:y,c="toQueue"===t?j:k,r=function(e){return e.some((function(e){return e.title===u.title}))}(n);c(r?n.filter((function(e){return e.id!==u.id})):[].concat((0,i.Z)(n),[u]))},R=u.title,A=u.release_date,F=u.poster_path,H=u.overview,U=u.genres,q=u.vote_average;return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)(r.rU,{to:D,className:"inline-flex gap-2 items-center p-2",children:[(0,d.jsx)(h.aiR,{className:"inline"}),"Go Back"]}),(0,d.jsxs)("div",{className:"flex gap-8 flex-wrap py-2 items-center justify-center",children:[(0,d.jsx)("div",{children:F&&(0,d.jsx)("img",{src:"https://image.tmdb.org/t/p/original/".concat(F),width:"300",alt:R})}),(0,d.jsxs)("div",{className:"flex flex-col gap-3 max-w-[75%] py-4",children:[(0,d.jsx)("h2",{children:R}),(0,d.jsxs)("div",{className:"flex gap-x-[10%] gap-y-1 flex-wrap",children:[A&&(0,d.jsx)("p",{children:new Date(A).getFullYear()}),q&&(0,d.jsxs)("p",{children:["User Score: ",Math.round(q/10*100),"%"]})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Overview"}),(0,d.jsx)("p",{children:H})]}),(0,d.jsxs)("div",{children:[(0,d.jsx)("h3",{children:"Genres"}),(0,d.jsx)("ul",{className:"flex gap-x-3 gap-y-1 flex-wrap",children:U&&U.map((function(e){return(0,d.jsx)("li",{children:(0,d.jsx)("p",{children:e.name})},e.id)}))})]}),(0,d.jsxs)("div",{className:"flex gap-6 py-4",children:[(0,d.jsx)("button",{name:"toQueue",type:"button",onClick:I,className:"bg-accent-color text-[white] text-sm sm:text-base font-semibold py-1 px-3 rounded shadow  hover:bg-light-accent-color hover:text-primary-text-color duration-200",children:_?"Remove from Queue":"Add to Queue"}),(0,d.jsx)("button",{name:"toLiked",type:"button",onClick:I,className:"bg-accent-color text-[white] text-sm sm:text-base font-semibold py-1 px-3 rounded shadow  hover:bg-light-accent-color hover:text-primary-text-color duration-200",children:C?"Remove from Liked":"Add to Liked"})]})]})]}),(0,d.jsx)(f,{backLinkHref:D})]})}},9843:function(e,t,n){n.d(t,{Z:function(){return r}});var i=n(9439),c=n(2791);function r(e,t){var n=(0,c.useState)((function(){var n;return null!==(n=JSON.parse(window.localStorage.getItem(e)))&&void 0!==n?n:t})),r=(0,i.Z)(n,2),o=r[0],a=r[1];return(0,c.useEffect)((function(){window.localStorage.setItem(e,JSON.stringify(o))}),[e,o]),[o,a]}},3048:function(e,t,n){n.d(t,{$w:function(){return s},Df:function(){return o},FL:function(){return a},Xj:function(){return l},h$:function(){return u}});var i=n(3263),c="https://api.themoviedb.org/3/",r="api_key=b87c06507a636c850d5a0bd93afe2f26";function o(){try{return i.Z.get("".concat(c,"trending/movie/day?").concat(r)).then((function(e){return e.data.results}))}catch(e){console.log(e)}}function a(e){try{return i.Z.get("".concat(c,"movie/").concat(e,"?").concat(r)).then((function(e){return e.data}))}catch(t){console.log(t)}}function s(e){try{return i.Z.get("".concat(c,"movie/").concat(e,"/credits?").concat(r)).then((function(e){return e.data.cast}))}catch(t){console.log(t)}}function l(e){try{return i.Z.get("".concat(c,"movie/").concat(e,"/reviews?").concat(r)).then((function(e){return e.data.results}))}catch(t){console.log(t)}}function u(e,t){try{return i.Z.get("".concat(c,"search/movie?query=").concat(e,"&page=").concat(t,"&").concat(r)).then((function(e){return e.data.results.length>0?e.data:alert("No results")}))}catch(n){console.log(n)}}}}]);
//# sourceMappingURL=705.808d84b5.chunk.js.map